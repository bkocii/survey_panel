/* static/admin/wizard.css */
#question-form input,
#question-form select,
#question-form textarea {
  background-color: #111827 !important; /* gray-900 */
  color: #fff !important;
  border-color: #374151;
}
#question-form input::placeholder { color: #9ca3af; }
#question-form input:-webkit-autofill {
  -webkit-box-shadow: 0 0 0 1000px #111827 inset !important;
  -webkit-text-fill-color: #fff !important;
}

/* ~4–5 chars wide, grows a bit on md screens */
#id_code { width: 6.5rem; }           /* ≈ w-26 */
@media (min-width: 768px) {
  #id_code { width: 7.5rem; }         /* ≈ w-30 */
}

/* Row 1 alignment + sizing */
#wizard-row-1 label { margin-bottom: 0.25rem; line-height: 1.25rem; }

/* Make the three controls the same height */
#id_code,
#id_question_type,
#question_lookup_search {
  height: 2.5rem;           /* ~ h-10 */
}

/* Narrow width for the Code input (~4–5 chars) */
#id_code { width: 7.5rem; } /* tweak to taste */
@media (min-width: 768px) {
  #id_code { width: 8rem; }
}

/* Kill any stray top margin on the lookup input wrapper */
#question_lookup_container .relative { margin-top: 0 !important; }


/* Row 2 alignment */
#wizard-row-2 label { margin-bottom: .25rem; line-height: 1.25rem; }

/* Make text + required controls visually same height */
#wizard-row-2 #id_text { height: 2.5rem; }          /* ~ h-10 */
#wizard-row-2 .h-10 { height: 2.5rem; }

/* Turn the Required checkbox into a compact switch (no template changes needed) */
#wizard-row-2 #id_required {
  -webkit-appearance: none;
  appearance: none;
  position: relative;
  width: 2.75rem;        /* ~44px */
  height: 1.5rem;        /* ~24px */
  border-radius: 9999px; /* full */
  background: #374151;   /* gray-700 */
  border: 1px solid #4b5563; /* gray-600 */
  cursor: pointer;
  outline: none;
  transition: background-color .2s ease;
}
#wizard-row-2 #id_required::after {
  content: "";
  position: absolute;
  top: 2px;
  left: 2px;
  width: 1.125rem;     /* ~18px */
  height: 1.125rem;
  background: #fff;    /* knob */
  border-radius: 9999px;
  transition: transform .2s ease;
}
.dark #wizard-row-2 #id_required { background: #1f2937; border-color: #374151; } /* dark: gray-800/700 */
#wizard-row-2 #id_required:checked { background: #4f46e5; border-color: #4f46e5; } /* indigo-600 */
#wizard-row-2 #id_required:checked::after { transform: translateX(1.25rem); }     /* move knob */

/* Keyboard focus ring */
#wizard-row-2 #id_required:focus-visible {
  box-shadow: 0 0 0 3px rgba(79,70,229,0.45);
}

/* Let the Question text input truly fill available width */
#question-form .text-field input#id_text {
  width: 100%;
  max-width: none;
  height: 2.5rem; /* match h-10 */
}

/* Keep the switch row the same height */
#question-form #wizard-row-2 .h-10 { height: 2.5rem; }

/* Make the "Question text" block truly fill its side */
#question-form #wizard-row-2 .text-field { flex: 1 1 0%; min-width: 0; }

/* Kill admin/Unfold width caps (Django uses .vTextField) and force full width */
#question-form #wizard-row-2 input#id_text,
#question-form #wizard-row-2 input.vTextField {
  width: 100% !important;
  max-width: none !important;
}

/* (Keep your existing height alignment) */
#question-form #wizard-row-2 #id_text { height: 2.5rem; } /* h-10 */
#question-form #wizard-row-2 .h-10 { height: 2.5rem; }

/* Row 3: smaller labels & controls, tight spacing */
#wizard-row-3 label { margin-bottom: .125rem; line-height: 1.1rem; }

/* Smaller control height & font for helper fields */
#wizard-row-3 .compact input[type="text"],
#wizard-row-3 .compact input[type="search"],
#wizard-row-3 .compact select {
  height: 2.0rem;                 /* ≈ h-8 */
  line-height: 2rem;
  font-size: .775rem;           /* text-sm */
  padding: .25rem .5rem;        /* tighter */
  width: 100%;
  max-width: none;              /* beat admin caps */
}

/* File input: visually compact */
#wizard-row-3 input[type="file"] {
  height: 2.0rem;
  font-size: .7125rem;          /* ~13px */
  line-height: 1.25rem;
  padding: .25rem .5rem;
  width: 100%;
  max-width: none;
}

/* Dark theme consistency */
#wizard-row-3 .compact input,
#wizard-row-3 .compact select,
#wizard-row-3 input[type="file"] {
  background-color: #111827;    /* gray-900 */
  color: #fff;
  border-color: #374151;        /* gray-700 */
}

/* If admin theme adds extra top margins anywhere, neutralize here */
#wizard-row-3 .question-field > .w-full { margin-top: 0 !important; }

}

/* neutral shells that won't fight admin resets */
#wizard-actions .btn-shell {
  background: transparent !important;
  border: 0 !important;
  padding: 0 !important;
  margin: 0;
  cursor: pointer;
}
#wizard-actions .btn-link {
  text-decoration: none !important;
}

/* the real visual button lives here */
#wizard-actions .btn-ui {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: .5rem;
  padding: .5rem 1rem;            /* ~ py-2 px-4 */
  border-radius: .5rem;           /* rounded-md */
  font-size: .875rem;             /* text-sm */
  line-height: 1.25rem;
  font-weight: 600;               /* semibold */
  border: 1px solid transparent;
  user-select: none;
}

/* variants */
#wizard-actions .btn-primary {
  background: #1e3a7b;            /* blue-600 */
  color: #fff;
  border-color: #1d4ed8;          /* blue-700 */
}
#wizard-actions .btn-primary:hover {
  background: #1d4ed8;            /* blue-700 */
  border-color: #1e40af;          /* blue-800 */
}

#wizard-actions .btn-secondary {
  background: transparent;
  color: #e5e7eb;                  /* gray-200 */
  border-color: #4b5563;           /* gray-600 */
}
#wizard-actions .btn-secondary:hover {
  background: rgba(255,255,255,.06);
}

/* dark tune */
.dark #wizard-actions .btn-primary {
  background: #4f46e5;            /* indigo-600 */
  border-color: #4338ca;          /* indigo-700 */
}
.dark #wizard-actions .btn-primary:hover {
  background: #4338ca;            /* indigo-700 */
}
/* ---- Card with thick border + outer frame ---- */
#confirm-switch-modal .confirm-modal-card {
  position: relative;
  background: #111827 !important;            /* gray-900 */
  color: #fff !important;
  border: 1px solid #ffffff !important;       /* <-- guaranteed visible border */
  border-radius: 16px !important;
  box-shadow: 0 25px 50px -12px rgba(0,0,0,.6);
}

/* Optional indigo border instead of white: swap the color above to #4f46e5 */

/* Outer frame ring (subtle) */
#confirm-switch-modal .confirm-modal-card::before {
  content: "";
  position: absolute;
  inset: -8px;                                /* outside the card */
  /*border: 2px solid rgba(99,102,241,.6);      !* indigo-500-ish *!*/
  border-radius: 22px;
  pointer-events: none;
}

/* Title & message */
#confirm-switch-modal .modal-title   { font-size: 1.125rem; font-weight: 600; }   /* ~text-lg */
#confirm-switch-modal .modal-message { font-size: .9375rem; line-height: 1.6; }   /* ~text-sm+ */
#confirm-switch-modal [data-modal-title],
#confirm-switch-modal [data-modal-message] { overflow-wrap: anywhere; }

/* Buttons: identical size, rounded */
#confirm-switch-modal .btn-modal {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 9.5rem;                          /* same width */
  padding: 0.625rem 1rem;                     /* ~py-2.5 px-4 */
  border-radius: 0.5rem;                      /* rounded-md */
  font-size: .875rem;                         /* text-sm */
  line-height: 1.25rem;
  border: 1px solid rgba(255,255,255,.18);
  transition: background-color .15s ease, transform .05s ease;
}
#confirm-switch-modal .btn-modal:active { transform: translateY(1px); }

#confirm-switch-modal .btn-cancel {
  background: #374151;                        /* gray-700 */
  color: #fff;
}
#confirm-switch-modal .btn-cancel:hover { background: #4b5563; }  /* gray-600 */

#confirm-switch-modal .btn-confirm {
  background: #dc2626;                        /* red-600 */
  color: #fff;
}
#confirm-switch-modal .btn-confirm:hover { background: #b91c1c; } /* red-700 */

/* Pop-in animation (optional) */
#confirm-switch-modal .confirm-modal-card {
  transform: scale(.985);
  opacity: 0;
  transition: transform .12s ease-out, opacity .12s ease-out;
}
#confirm-switch-modal:not(.hidden) .confirm-modal-card {
  transform: scale(1);
  opacity: 1;
}

/* ---- BULK MODAL: solid background, thick frame, white text ---- */
#bulk-add-modal .bulk-card {
  position: relative;
  background: #111827 !important;            /* gray-900 */
  color: #ffffff !important;                  /* all text white */
  border: 1px solid #ffffff !important;       /* clear, thick border */
  border-radius: 16px !important;
  box-shadow: 0 25px 50px -12px rgba(0,0,0,.6);
}

/* Outer frame (indigo ring around the card) */
#bulk-add-modal .bulk-card::before {
  content: "";
  position: absolute;
  inset: -8px;                                /* sits outside the card */
  /*border: 2px solid rgba(99,102,241,.65);     !* indigo-500-ish *!*/
  /*border-radius: 12px;*/
  pointer-events: none;
}

/* Headline & description wrap nicely on long text */
#bulk-add-modal h3,
#bulk-add-modal p { overflow-wrap: anywhere; }

/* Buttons: same size, rounded, centered */
#bulk-add-modal .btn-modal {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 9.5rem;                          /* equal width */
  padding: 0.625rem 1rem;                     /* ~py-2.5 px-4 */
  font-size: .875rem;
  line-height: 1.25rem;
  border-radius: 0.5rem;
  /*border: 1px solid rgba(255,255,255,.18);*/
  transition: background-color .15s ease, transform .05s ease;
}
#bulk-add-modal .btn-modal:active { transform: translateY(1px); }

#bulk-add-modal .btn-cancel {
  background: #374151;                        /* gray-700 */
  color: #fff;
}
#bulk-add-modal .btn-cancel:hover { background: #4b5563; }  /* gray-600 */

#bulk-add-modal .btn-confirm {
  background: #2563eb;                        /* blue-600 */
  color: #fff;
}
#bulk-add-modal .btn-confirm:hover { background: #1d4ed8; } /* blue-700 */

/* Pop-in animation (optional) */
#bulk-add-modal .bulk-card {
  transform: scale(.985);
  opacity: 0;
  transition: transform .12s ease-out, opacity .12s ease-out;
}
#bulk-add-modal:not(.hidden) .bulk-card {
  transform: scale(1);
  opacity: 1;
}

/* Force light textarea with dark text inside the dark modal */
#bulk-add-modal #bulk-add-input {
  background: #ffffff !important;        /* white */
  color: #111827 !important;             /* gray-900 (near-black) */
  border-color: rgba(0,0,0,.2) !important;
  caret-color: #111827 !important;
}

/* Keep placeholder readable */
#bulk-add-modal #bulk-add-input::placeholder {
  color: #6b7280 !important;             /* gray-500 */
  opacity: 1;
}

/* If you want a very light gray instead of pure white in dark mode */
.dark #bulk-add-modal #bulk-add-input {
  background: #f9fafb !important;        /* gray-50 */
  color: #111827 !important;
  border-color: rgba(0,0,0,.25) !important;
  border-radius: 12px !important;
}

/* Shell (lets the inner pill handle visuals) */
.btn-shell {
  background: transparent;
  border: 0;
  padding: 0;
}

/* Shared pill look */
.btn-ui {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: .5rem;
  padding: .625rem .9rem;         /* ~py-2.5 px-3.5 */
  border-radius: .5rem;           /* rounded-md */
  font-weight: 600;
  font-size: .875rem;             /* text-sm */
  line-height: 1.0rem;
  border: 1px solid transparent;
  transition: background-color .15s ease, transform .05s ease, border-color .15s ease;
}
.btn-ui:active { transform: translateY(1px); }

/* Primary (match Save) */
.btn-primary {
  background: #1e3a7b;            /* blue-600 */
  color: #fff;
  border-color: rgba(255,255,255,.18);
}
.btn-primary:hover { background: #1d4ed8; }  /* blue-700 */
.btn-primary:focus-visible { outline: 2px solid rgba(37,99,235,.45); outline-offset: 2px; }

/* Secondary (match Clear / Back shell) */
.btn-secondary {
  background: #374151;            /* gray-700 */
  color: #fff;
  border-color: rgba(255,255,255,.18);
}
.btn-secondary:hover { background: #4b5563; } /* gray-600 */
.btn-secondary:focus-visible { outline: 2px solid rgba(255,255,255,.28); outline-offset: 2px; }

/* Dark mode tweaks (optional) */
.dark .btn-primary { border-color: rgba(255,255,255,.22); }
.dark .btn-secondary { border-color: rgba(255,255,255,.22); }


/* Reuse compact switch style for the other two toggles */
#id_allows_multiple,
#id_allow_multiple_files {
  -webkit-appearance: none;
  appearance: none;
  position: relative;
  width: 2.75rem;
  height: 1.5rem;
  border-radius: 9999px;
  background: #374151;         /* gray-700 */
  border: 1px solid #4b5563;   /* gray-600 */
  cursor: pointer;
  outline: none;
  transition: background-color .2s ease;
  vertical-align: middle;      /* avoid “stretched” look */
  display: inline-block;       /* avoid full-width stretch */
}
#id_allows_multiple::before,
#id_allow_multiple_files::before {
  content: "";
  position: absolute;
  top: 2px;
  left: 2px;
  width: 1.125rem;
  height: 1.125rem;
  background: #fff;
  border-radius: 9999px;
  transition: transform .2s ease;
}
#id_allows_multiple:checked,
#id_allow_multiple_files:checked {
  background: #4f46e5;         /* indigo-600 */
  border-color: #4f46e5;
}
#id_allows_multiple:checked::before,
#id_allow_multiple_files:checked::before {
  transform: translateX(1.25rem);
}
#id_allows_multiple:focus-visible,
#id_allow_multiple_files:focus-visible {
  box-shadow: 0 0 0 3px rgba(79,70,229,0.45);
}

/* Optional: keep label + switch compact side-by-side */
.switch-row {
  display: inline-flex;
  align-items: center;
  gap: .5rem;
}


/* ---------- Preview list layout ---------- */
#question-preview-list {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;             /* space between cards */
}

/* ---------- Card ---------- */
.preview-card {
  background: #111827;      /* gray-900 */
  color: #e5e7eb;           /* gray-200 */
  border: 1px solid #374151;/* gray-700 */
  border-radius: 12px;
  padding: .75rem 1rem;
  box-shadow: 0 8px 20px -6px rgba(0,0,0,.45);
}

.preview-card:hover {
  border-color: #4f46e5;    /* indigo-600 */
  box-shadow: 0 10px 24px -6px rgba(79,70,229,.25);
}

/* Make the draft card visually distinct */
.preview-card.draft {
  border-style: dashed;
  background: #0f172a;      /* slate-900-ish */
}

/* ---------- Card header ---------- */
.preview-card .card-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: .75rem;
  margin-bottom: .5rem;
}

/* inline meta clusters */
.preview-card .card-head .meta {
  display: flex;
  flex-wrap: wrap;
  gap: .375rem;
  align-items: center;
}

/* ---------- Badges ---------- */
.preview-card .badge {
  display: inline-block;
  padding: .125rem .5rem;
  font-size: .75rem;
  line-height: 1;
  border-radius: 9999px;
  background: rgba(99,102,241,.12);  /* indigo tint */
  color: #a5b4fc;                    /* indigo-300 */
  border: 1px solid rgba(99,102,241,.35);
}

/* ---------- Body ---------- */
.preview-card .body .small { color: #9ca3af; } /* gray-400 */

/* Optional: subtle divider between header and body if needed
.preview-card .card-head { border-bottom: 1px solid #1f2937; padding-bottom: .5rem; }
*/


#question-preview-list {
  min-height: 260px;           /* keeps a decent canvas even when empty */
  max-height: 520px;           /* your existing height cap is fine */
  overflow-y: auto;
}


/* Card list spacing already in place from earlier step */
.preview-card .body {
  max-height: 260px;           /* clamp card body height */
  overflow-y: auto;            /* scroll if content is long */
}

/* Constrain heavy tables/images inside preview */
.preview-card th, .preview-card td { word-break: break-word; }
.preview-card img.img-thumbnail { max-height: 140px; object-fit: contain; }


/* Scrollable body area */
#choice-inline .inline-scroll,
#matrix-row-inline .inline-scroll,
#matrix-column-inline .inline-scroll {
  max-height: 24rem !important;
  overflow-y: auto !important;
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch;
}

/* Fixed layout for consistent columns */
#choices-table,
#matrix-rows-table,
#matrix-cols-table {
  table-layout: fixed;
}

/* Sticky header */
#choice-inline thead th,
#matrix-row-inline thead th,
#matrix-column-inline thead th {
  position: sticky;
  top: 0;
  z-index: 5;
  background-color: #1f2937;  /* gray-800 to match your dark UI */
  color: #e5e7eb;             /* gray-200 */
  border-bottom: 1px solid #374151;
}

/* Sticky column container (no fixed height here; JS will set it) */
.preview-sticky {
  position: sticky;
  top: 1rem;              /* same as lg:top-4 */
  display: flex;
  flex-direction: column;
}

/* The scrolling region inside the sticky column */
.preview-scroll {
  flex: 1 1 auto;
  min-height: 0;          /* crucial inside flex for proper shrinking */
  overflow-y: auto;
  border-radius: 0.5rem;
}

/* Mobile: let it flow naturally */
@media (max-width: 1023px) {
  .preview-sticky { position: static; top: auto; }
  .preview-scroll { max-height: none; overflow: visible; }
}

/* --- Preview Card (compact, no min-height) --- */
.q-card-p {
  background: #111827;           /* same tone as .q-card */
  border: 1px solid #1f2937;
  border-radius: 14px;
  padding: .75rem 1rem;
  box-shadow: 0 6px 24px rgba(0,0,0,0.25);
  color: #e5e7eb;
}

/* spacing between preview cards */
.q-card-p + .q-card-p { margin-top: .75rem; }

/* Tables inside preview cards */
.q-card-p table,
.q-card-p .table {
  background: transparent !important;
  color: #e5e7eb !important;
  border-color: #374151 !important;
  margin-bottom: .5rem;
}
.q-card-p .table thead th {
  background: #1f2937 !important;
  color: #e5e7eb !important;
  border-color: #374151 !important;
}
.q-card-p .table tbody td,
.q-card-p .table tbody th {
  background: #0f172a !important;
  color: #e5e7eb !important;
  border-color: #374151 !important;
}
.q-card-p .table.table-bordered > :not(caption) > * > * {
  border-color: #374151 !important;
}
.q-card-p .table.table-striped > tbody > tr:nth-of-type(odd) > * {
  background-color: #0c1324 !important;
}

/* Inputs inside preview (match survey look) */
.q-card-p .form-control,
.q-card-p .form-select,
.q-card-p input[type="text"],
.q-card-p input[type="number"],
.q-card-p input[type="file"],
.q-card-p select,
.q-card-p textarea {
  background-color: #0f172a !important;
  color: #e5e7eb !important;
  border-color: #374151 !important;
}
.q-card-p .form-control::placeholder { color: #9ca3af !important; }

/* Center inputs inside matrix cells */
.q-card-p table .form-check,
.q-card-p table .form-check-inline {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: .5rem;
  margin: 0;
}

/* --- Unified radios/checkboxes for preview --- */
.q-card-p input[type="radio"],
.q-card-p input[type="checkbox"],
.q-card-p .form-check-input,
.preview-card input[type="radio"],
.preview-card input[type="checkbox"],
.preview-card .form-check-input {
  -webkit-appearance: none !important;
  appearance: none !important;
  background: #0f172a !important;
  border: 2px solid #374151 !important;
  width: 1.15rem;
  height: 1.15rem;
  min-width: 1.15rem;
  min-height: 1.15rem;
  margin: 0;
  box-shadow: none !important;
  position: relative;
  display: inline-block;
  vertical-align: middle;
}

/* Radios round, checkboxes rounded */
.q-card-p input[type="radio"],
.q-card-p .form-check-input[type="radio"],
.preview-card input[type="radio"],
.preview-card .form-check-input[type="radio"] { border-radius: 999px !important; }

.q-card-p input[type="checkbox"],
.q-card-p .form-check-input[type="checkbox"],
.preview-card input[type="checkbox"],
.preview-card .form-check-input[type="checkbox"] { border-radius: .35rem !important; }

/* Hover/focus */
.q-card-p input[type="radio"]:hover,
.q-card-p input[type="checkbox"]:hover,
.q-card-p .form-check-input:hover,
.preview-card input[type="radio"]:hover,
.preview-card input[type="checkbox"]:hover,
.preview-card .form-check-input:hover { border-color: #6366f1 !important; }

.q-card-p input[type="radio"]:focus,
.q-card-p input[type="checkbox"]:focus,
.q-card-p .form-check-input:focus,
.preview-card input[type="radio"]:focus,
.preview-card input[type="checkbox"]:focus,
.preview-card .form-check-input:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(79,70,229,.25) !important;
  border-color: #6366f1 !important;
}

/* Checked */
.q-card-p input[type="radio"]:checked,
.q-card-p input[type="checkbox"]:checked,
.q-card-p .form-check-input:checked,
.preview-card input[type="radio"]:checked,
.preview-card input[type="checkbox"]:checked,
.preview-card .form-check-input:checked {
  border-color: #4f46e5 !important;
  background-color: #4f46e5 !important;
}

/* Radio dot */
.q-card-p input[type="radio"]:checked::after,
.q-card-p .form-check-input[type="radio"]:checked::after,
.preview-card input[type="radio"]:checked::after,
.preview-card .form-check-input[type="radio"]:checked::after {
  content: "";
  position: absolute;
  inset: 0;
  margin: auto;
  width: .5rem;
  height: .5rem;
  border-radius: 999px;
  background: #fff;
}

/* Checkbox tick */
.q-card-p input[type="checkbox"]:checked::after,
.q-card-p .form-check-input[type="checkbox"]:checked::after,
.preview-card input[type="checkbox"]:checked::after,
.preview-card .form-check-input[type="checkbox"]:checked::after {
  content: "";
  position: absolute;
  top: 50%; left: 50%;
  width: .35rem; height: .65rem;
  border: .16rem solid #fff;
  border-top: 0; border-left: 0;
  transform: translate(-50%, -60%) rotate(45deg);
}

/* Stack choice items inside preview cards only */
#question-preview-list .preview-card .body {
  display: block !important;            /* kill any accidental flex on the body */
}

#question-preview-list .preview-card .form-check-inline {
  display: block !important;            /* even inline checks stack */
  margin-right: 0 !important;
}

#question-preview-list .preview-card .form-check {
  display: block !important;
  margin: .35rem 0 !important;
}

#question-preview-list .preview-card .form-label,
#question-preview-list .preview-card label {
  display: block !important;            /* labels become full-width blocks */
  margin: .35rem 0 !important;
}

/* If a row/col wrapper is forcing flex, neutralize it */
#question-preview-list .preview-card .choices,
#question-preview-list .preview-card .options,
#question-preview-list .preview-card .answers {
  display: block !important;
  flex-wrap: nowrap !important;
  gap: 0 !important;
}

/* --- IMAGE_RATING: keep rating radios in a row under the image (PREVIEW ONLY) --- */
#question-preview-list .preview-card .image-rating-container .mt-2.mb-2 {
  display: flex !important;
  justify-content: center;
  gap: .5rem;
  flex-wrap: nowrap;
}

#question-preview-list .preview-card .image-rating-container .form-check-inline {
  display: inline-flex !important;   /* back to inline row */
  align-items: center;
  margin: 0 .35rem !important;
}


#question-preview-list .preview-card .image-rating-container .form-check {
  display: inline-flex !important;   /* ensure row flow */
  margin: 0 !important;
}

/* In the PREVIEW cards */
#question-preview-list .preview-card .image-rating-container .mt-2.mb-2 {
  display: flex !important;
  justify-content: flex-start !important;  /* ⬅ left align */
  align-items: center;
  gap: .5rem;
  flex-wrap: nowrap;
}

#question-preview-list .preview-card .image-rating-container .form-choice-text {
  display: flex !important;
  justify-content: flex-start !important;  /* ⬅ left align */
  align-items: center;
  gap: .5rem;
  flex-wrap: nowrap;
}

#question-preview-list .preview-card .image-rating-container .form-check-inline,
#question-preview-list .preview-card .image-rating-container .form-check {
  display: inline-flex !important;
  align-items: center;
  margin: 0 .35rem 0 0 !important;
}


/* Preview pane: enforce horizontal scroller for saved IMAGE_CHOICE */
#question-preview-list .preview-card[data-qtype="IMAGE_CHOICE"] .image-choice-container .row {
  display: flex;
  flex-wrap: nowrap;
  gap: .75rem;
  overflow-x: auto;
  padding-bottom: .25rem;
}

/* Make each tile a fixed width so they line up horizontally */
#question-preview-list .preview-card[data-qtype="IMAGE_CHOICE"] .image-choice-container .col-md-3,
#question-preview-list .preview-card[data-qtype="IMAGE_CHOICE"] .image-choice-container [class*="col-"] {
  flex: 0 0 auto;
  width: 10rem; /* ~160px */
}

/* Put the radio/checkbox above the image (your fragment already has it; this centers it) */
#question-preview-list .preview-card[data-qtype="IMAGE_CHOICE"] .image-choice-label .form-check {
  display: flex;
  justify-content: center;
  margin-bottom: .35rem;
}

/* Keep images tidy in the tile */
#question-preview-list .preview-card[data-qtype="IMAGE_CHOICE"] .img-thumbnail {
  display: block;
  margin: 0 auto;
  max-height: 6rem;
  object-fit: contain;
}

/* Card layout */
.preview-card { display: flex; flex-direction: column; }
.preview-card .body { overflow: hidden; } /* contain inner scrollers */

/* Scroll area in each card */
.preview-card .pv-scroll {
  overflow: auto;          /* both axes */
  max-height: 260px;       /* adjust as you like */
  max-width: 100%;
  padding-right: 2px;      /* give scrollbar a bit of breathing room */
}

/* --- Preview: matrix look & rounded inputs --- */
.preview-card .table,
.preview-card .table th,
.preview-card .table td {
  border-color: #374151 !important;
  color: #e5e7eb !important;
  background-color: transparent;
}
.preview-card .table thead th {
  background-color: #1f2937 !important; /* slate-800 */
  color: #e5e7eb !important;
  border-color: #374151 !important;
}
.preview-card .table tbody td,
.preview-card .table tbody th {
  background-color: #0f172a !important; /* slate-900 */
}

/* keep labels/inputs on one line in SBS header/body cells */
.preview-card .flex-nowrap { flex-wrap: nowrap !important; }
.preview-card .text-nowrap { white-space: nowrap !important; }

/* rounded controls inside preview */
.preview-card .form-control,
.preview-card .form-select {
  background-color: #0f172a !important;
  color: #e5e7eb !important;
  border-color: #374151 !important;
  border-radius: .5rem !important;  /* rounded */
}

/* radios/checkboxes style in preview (match your survey dark theme) */
.preview-card .form-check-input {
  -webkit-appearance: none !important;
  appearance: none !important;
  display: inline-block !important;   /* prevent stacking */
  background: #0f172a !important;
  border: 2px solid #374151 !important;
  width: 1.15rem; height: 1.15rem;
  min-width: 1.15rem; min-height: 1.15rem;
  margin: 0;
  box-shadow: none !important;
  position: relative;
}
.preview-card .form-check-input[type="radio"]   { border-radius: 999px !important; }
.preview-card .form-check-input[type="checkbox"]{ border-radius: .35rem !important; }
.preview-card .form-check-input:checked {
  background-color: #4f46e5 !important;
  border-color: #4f46e5 !important;
}
.preview-card .form-check-input[type="radio"]:checked::after {
  content: ""; position: absolute; inset: 0; margin: auto;
  width: .5rem; height: .5rem; border-radius: 999px; background: #fff;
}
.preview-card .form-check-input[type="checkbox"]:checked::after {
  content: ""; position: absolute; top: 50%; left: 50%;
  width: .35rem; height: .65rem; border: .16rem solid #fff;
  border-top: 0; border-left: 0; transform: translate(-50%, -60%) rotate(45deg);
}

/* Preview: keep SBS header/body rows horizontal */
.preview-card .d-flex.justify-content-around { flex-wrap: nowrap !important; }
.preview-card .text-nowrap { white-space: nowrap !important; }


/* Preview card table styling (works even without Bootstrap) */
#question-preview-list .preview-card table {
  width: 100%;
  border-collapse: separate;       /* keep clean corners */
  border-spacing: 0;
  background: transparent;
  border: 1px solid #374151;       /* outer border */
}

#question-preview-list .preview-card thead th {
  background: #1f2937;             /* slate-800 */
  color: #e5e7eb;                  /* gray-200 */
  border: 1px solid #374151;       /* header cell borders */
  padding: .5rem .75rem;
  vertical-align: middle;
  text-align: center;
}

#question-preview-list .preview-card tbody td,
#question-preview-list .preview-card tbody th {
  background: #0f172a;             /* slate-900 */
  color: #e5e7eb;
  border: 1px solid #374151;       /* body cell borders */
  padding: .5rem .75rem;
  vertical-align: middle;
}

/* keep the label row in one line */
#question-preview-list .preview-card .text-nowrap { white-space: nowrap !important; }
#question-preview-list .preview-card .d-flex.justify-content-around { flex-wrap: nowrap !important; }

/* make radio/checkbox row centered like in the survey view */
#question-preview-list .preview-card .form-check,
#question-preview-list .preview-card .form-check-inline {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin: 0 .25rem;
}

/* --- Preview card tables: sizing & overflow --- */
#question-preview-list .preview-card table {
  table-layout: auto;            /* let columns size to content */
  width: 100%;
}

/* keep cell contents from overlapping, allow scrolling if tight */
#question-preview-list .preview-card td,
#question-preview-list .preview-card th {
  vertical-align: middle;
}

/* Head label row (2nd header row) laid out horizontally with scroll if needed */
#question-preview-list .preview-card .pv-headlabels {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: .75rem;
  flex-wrap: nowrap;             /* keep on one line */
  overflow-x: auto;              /* scroll sideways if too many */
  overflow-y: hidden;
  padding-bottom: 2px;           /* space for scrollbar */
}
#question-preview-list .preview-card .pv-headlabels span {
  white-space: nowrap;           /* no wrapping for each label */
}

/* Body cells that hold multiple controls in a row */
#question-preview-list .preview-card .pv-cell {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: .75rem;
  flex-wrap: nowrap;             /* radios/checkboxes stay in a row */
  overflow-x: auto;              /* sideways scroll instead of wrapping */
  overflow-y: hidden;
  padding: 2px 0;
}

/* Inputs inside table cells should not force cell to overflow vertically */
#question-preview-list .preview-card .pv-input {
  min-width: 140px;              /* reasonable control width */
  max-width: 100%;
}

/* Keep text from crashing into borders */
#question-preview-list .preview-card td .pv-text {
  white-space: normal;
  word-break: break-word;
}

/* Apply only inside the preview list */
#question-preview-list .preview-card table {
  table-layout: auto;           /* let content size columns (prevents overlap) */
  width: 100%;
}

/* Normal vertical alignment + sane text wrapping */
#question-preview-list .preview-card th,
#question-preview-list .preview-card td {
  vertical-align: middle;
  word-break: break-word;
}

/* ---- SBS header label row (your fragment uses Bootstrap classes) ---- */
/* This is the <div class="d-flex justify-content-around"> that holds labels */
#question-preview-list .preview-card thead .d-flex.justify-content-around {
  display: flex;
  flex-wrap: nowrap;            /* stay on one line */
  gap: .75rem;
  justify-content: center;      /* center within the th */
  align-items: center;
  overflow-x: auto;             /* scroll sideways if too many labels */
  overflow-y: hidden;
  padding-bottom: 2px;          /* breathing room for scrollbar */
}

/* Prevent each label from wrapping to a second line */
#question-preview-list .preview-card thead .d-flex.justify-content-around .small,
#question-preview-list .preview-card thead .d-flex.justify-content-around span {
  white-space: nowrap;
}

/* ---- SBS body cells with radio/checkbox groups (also .d-flex justify-content-around) ---- */
#question-preview-list .preview-card tbody .d-flex.justify-content-around {
  display: flex;
  flex-wrap: nowrap;            /* keep inputs in a single row */
  gap: .75rem;
  justify-content: center;
  align-items: center;
  overflow-x: auto;             /* sideways scroll if many choices */
  overflow-y: hidden;
  padding: 2px 0;
}

/* Slightly larger clickable area inside matrix cells */
#question-preview-list .preview-card tbody .form-check-inline,
#question-preview-list .preview-card tbody .form-check {
  margin: 0;
}

/* Text/select inputs in SBS group cells: keep reasonable width */
#question-preview-list .preview-card td .form-control,
#question-preview-list .preview-card td .form-select {
  min-width: 140px;
  max-width: 100%;
}

/* Ensure the table borders are visible on dark background */
#question-preview-list .preview-card .table,
#question-preview-list .preview-card .table th,
#question-preview-list .preview-card .table td {
  border-color: #374151 !important;  /* slate-ish */
}

/* --- PREVIEW: let content drive column widths --- */
#question-preview-list .preview-card table {
  table-layout: auto !important;   /* content-based sizing */
  width: 100%;
}

/* let cells grow naturally */
#question-preview-list .preview-card th,
#question-preview-list .preview-card td {
  width: auto !important;
  max-width: none !important;
  white-space: normal;             /* wrap if needed */
  word-break: break-word;
  vertical-align: middle;
}

/* give the first “Item” column a little more room */
#question-preview-list .preview-card thead tr:first-child th:first-child,
#question-preview-list .preview-card tbody tr td:first-child {
  width: 34% !important;
}

/* SBS header label row: one line, sideways scroll if many */
#question-preview-list .preview-card thead .d-flex.justify-content-around {
  display: flex;
  flex-wrap: nowrap;
  gap: .75rem;
  justify-content: center;
  align-items: center;
  overflow-x: auto;
  overflow-y: hidden;
  padding-bottom: 2px;
}
#question-preview-list .preview-card thead .d-flex.justify-content-around .small,
#question-preview-list .preview-card thead .d-flex.justify-content-around span {
  white-space: nowrap;
}

/* SBS body groups: keep inputs in one row, allow sideways scroll */
#question-preview-list .preview-card tbody .d-flex.justify-content-around {
  display: flex;
  flex-wrap: nowrap;
  gap: .75rem;
  justify-content: center;
  align-items: center;
  overflow-x: auto;
  overflow-y: hidden;
  padding: 2px 0;
}

/* keep all overflow inside the card (don’t widen the column) */
.preview-card .pv-scroll {
  overflow: auto;      /* both axes */
  max-height: 260px;
  width: 100%;
  max-width: 100%;
}

/* --- Preview: keep the first (row text) column readable --- */

/* Header first cell */
#question-preview-list .preview-card thead tr:first-child th:first-child {
  width: 38% !important;      /* give it more space */
  min-width: 220px !important; /* never collapse */
  white-space: normal !important;
  word-break: normal !important;
  overflow-wrap: anywhere !important; /* break long words if needed */
}

/* Body first cell */
#question-preview-list .preview-card tbody td:first-child {
  width: 38% !important;
  min-width: 220px !important;
  white-space: normal !important;
  word-break: normal !important;
  overflow-wrap: anywhere !important;
}

/* If any generic cell rule still forces aggressive breaking, neutralize it for all cells */
#question-preview-list .preview-card th,
#question-preview-list .preview-card td {
  word-break: normal !important;       /* stop per-letter breaking */
  overflow-wrap: anywhere !important;  /* break only when necessary */
}

/* modal scroll container */
#survey-preview-modal .pv-scroll { overflow: auto; max-width: 100%; }

/* --- Preview-only title line --- */
.preview-card .pv-title {
  margin: .25rem 0 .5rem;     /* some breathing room */
  padding: 0 .25rem;          /* tiny inset so it doesn't stick to edges */
  font-weight: 600;
  font-size: 1rem;            /* ≈ text-base */
  line-height: 1.375rem;      /* a touch taller for readability */
  color: #f3f4f6;             /* gray-100 */
}
.preview-card .pv-title .pv-num {
  opacity: .85;
  margin-right: .35rem;
}
.preview-card .pv-helper {
  margin: .125rem 0 .5rem;
  color: #9ca3af;             /* gray-400 */
  font-size: .85rem;
}


